<!DOCTYPE html>
<html lang="zh-TW">
    <style>
    </style>
    <head>
        <title>practice7</title>
    </head>
    <body>
        <input type="text" id="inputNum" placeholder="請輸入一組由 1 ~ 9 組成的四位數字"><br>
        <div class="button-sector">
            <button type="button" onclick="inspect(document.getElementById('inputNum').value)">送出</button>
            <button type="button" onclick="generateHtml()">查看答案</button>
        </div>
        <div id="arrayContainer"></div>
        <script>
            const digits = 4;
            let array = [];

            for(let i = 0; i < digits; i++)
            {
                array.push(Math.floor(Math.random() * 9) + 1);
            }

            function inspect(inputNum){
                let aNum = 0;
                let bNum = 0;
                let tempArray = [];
                
                for(let i = 0; i < digits; i++)
                {
                    tempArray.push(array[i]);
                }

                let tempInputArray = [];
                
                for(let i = 0; i < digits; i++){
                    if(tempArray[i] == inputNum[i])
                    {   
                        aNum++;
                        tempArray[i] = -1;
                        tempInputArray.push(-1);
                    }
                    else
                    {
                        tempInputArray.push(Number(inputNum[i]));
                    }
                }

                console.log(tempArray);
                console.log(tempInputArray);

                for(let i = 0; i < digits; i++)
                {
                    if(tempInputArray[i] != -1)
                    {
                        if(tempArray.indexOf(tempInputArray[i]) != -1)
                        {
                            bNum++;
                            tempArray[tempArray.indexOf(tempInputArray[i])] = -1;
                        }
                    }
                }

                document.getElementById('inputNum').value = "";

                if(aNum == digits)
                {
                    alert("恭喜回答正確！");
                }
                else
                {
                    alert(`${aNum} A ${bNum} B`);
                }

            }
            function generateHtml(){
                document.querySelector("#arrayContainer").innerHTML = "";
                const arrayContainer = document.querySelector('#arrayContainer');
                
                for(let i = 0; i < array.length; i++){
                    const newItem = document.createElement('div');
                    newItem.classList.add('array');
                    newItem.textContent = `${array[i]}`;
                    arrayContainer.appendChild(newItem);
                };
            }
        </script>
    </body>
    </html>